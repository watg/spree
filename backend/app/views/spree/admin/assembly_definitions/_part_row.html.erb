<% part = f.object.part %>
<tr id="<%= spree_dom_id f.object %>">
  <td><span class="handle"></span></td>
  <td class="presentation">
    <div class="field">
      <%= f.label :presentation %>
      <%= f.text_field :presentation %>
      <span class="info">
        <%= link_to_with_icon 'external-link', part.name, edit_admin_product_path(part), target: :blank %>
      </span>
    </div>

    <div class="field">
      <%= f.label :displayable_option_type_id, 'Displayable Type' %> <span class="required">*</span>
      <%= f.collection_select(:displayable_option_type_id, part.option_types, :id, :name, {include_blank: true}, :class => 'fullwidth', :required => true ) %>
    </div

    <br><br>
    <div class="field">
      <%= f.check_box :add_all_available_variants %></span>
      <%= f.label :add_all_available_variants, "Auto update all available variants" %>
    </div>

  </td>
  <td>
    <% if part.variants.any? %>
      <%= f.select(:variant_ids, part.variants.collect { |v| [v.options_text, v.id] }, {}, multiple: true, class: 'select2 fullwidth', required: true) %>
    <% else %>
      <%= f.select(:variant_ids, [[ 'master', part.master.id]], {}, multiple: true, class: 'select2 fullwidth', :required => true) %>
    <% end %>
    <span class="info alignright"><input type="checkbox" class="check_all" >Check all</span>
  </td>
  <td>
    <%= f.number_field :count %>
  </td>
  <td style="text-align: center;"><%= f.check_box :assembled %></td>
  <td style="text-align: center;"><%= f.check_box :optional %></td>
  <td class="actions">
    <%= link_to_delete part, :url => admin_assembly_definition_part_path(@assembly_definition, f.object), :no_text => true %>
  </td>
</tr>
