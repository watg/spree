<tr class="line-item">
	<td>
		<div class="item-image" data-hook="cart_item_image">
			<% if variant.images_for(line_item.target).length == 0 %>
				<%= link_to small_image(variant.product), path_to_variant(line_item, variant) %>
			<% else %>
				<%= link_to image_tag(variant.images_for(line_item.target).first.attachment.url(:listing)), path_to_variant(line_item, variant) %>
			<% end %>
		</div>
    <%= render :partial => 'spree/shared/order_contents', locals: { variant: variant, line_item: line_item } %>
	</td>
	<td>
		<div class="item-quantity" data-hook="cart_item_quantity">
			<%= item_form.number_field :quantity, :min => 0, :class => "line_item_quantity", :size => 5 %>
		</div>
		<div class="item-delete" data-hook="cart_item_delete">
			<%= link_to 'Remove', '#', :class => 'delete', :id => "delete_#{dom_id(line_item)}", :title => "Remove" %>
		</div>
	</td>
	<td class="item-total" data-hook="cart_item_totaly">
    <%variant = line_item.variant.decorate( context: {current_currency: line_item.currency, target: line_item.target}) %>
    <span class="<%=variant.normal_price_classes %>"> <%= line_item.normal_display_amount.to_html unless line_item.quantity.nil? %></span>
    <% if line_item.in_sale? %>
      <span class="<%=variant.sale_price_classes %>"> <%= line_item.sale_display_amount.to_html unless line_item.quantity.nil? %></span>
    <% end %>
	</td>
</tr>
